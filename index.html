<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>
    <script>
        let videoElement = document.getElementById('video');

        // List cameras and select the rear camera if available
        navigator.mediaDevices.enumerateDevices()
        .then(function(devices) {
            var videoDevices = devices.filter(function(device) {
                return device.kind == 'videoinput';
            });

            // Attempt to find the rear camera by default
            var rearCamera = videoDevices.find(function(device) {
                return device.label.toLowerCase().includes('back');
            });

            // If a rear camera is not found, use the first one
            var selectedCamera = rearCamera ? rearCamera : videoDevices[0];

            // Constraints to specify the selected camera
            var constraints = {
                video: { deviceId: { exact: selectedCamera.deviceId } }
            };

            // Access the camera using the selected device ID
            return navigator.mediaDevices.getUserMedia(constraints);
        })
        .then(function(stream) {
            videoElement.srcObject = stream;
        })
        .catch(function(error) {
            console.log(error);
        });
    </script>
    <title>AR Business Card</title>
</head>
<body style="margin : 0px; overflow: hidden;">
    <a-scene embedded arjs='sourceType: webcam;'>
        <!-- Define AR marker -->
        <a-marker preset="hiro">
            <!-- Your content goes here. Example: a text that appears over the marker -->
            <a-text value="Hello, AR!" position="0 0.5 0" rotation="-90 0 0" scale="1 1 1"></a-text>
        </a-marker>
        <a-entity camera></a-entity>
    </a-scene>
</body>
</html>
